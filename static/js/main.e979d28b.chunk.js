(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{28:function(e,t,n){e.exports=n(41)},33:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),s=n.n(c),i=(n(33),n(6)),u=(n(34),n(4)),o=n.n(u),m="94642598479-g1na4rsqrj5vu6dram3r7k6k200s8j6m.apps.googleusercontent.com",l="AIzaSyBMZ3rGb7dWifD8QVjbidUpvxypn9XfiXA",h=["https://sheets.googleapis.com/$discovery/rest?version=v4"],p="https://www.googleapis.com/auth/spreadsheets.readonly";function b(){return window.gapi}var j=n(5),O=n.n(j),f=n(8),g=n(54),d=n(12),v=n(7),k=n(53),E=n(2),x={"19-20":{order:["jeena","anahat","sahana","sangeet","sapna","gathe","awaazein"],names:{jeena:"Jeena",anahat:"Anahat",sangeet:"Sangeet Saagar",sapna:"Steel City Sapna",sahana:"Sahana",gathe:"Gathe Raho",awaazein:"Awaazein"},sheetIds:{jeena:"1PERpK3VvawDj-lpZGupI6k5H7aRd5WUrQ5emM6O7ZiQ",anahat:"1paQFjuvZSip1qe56qIWT5Un86Cv8BuyG1clHMvFArxg",sangeet:"15ok6-LsCmh8qWpZAA_Jw8fHspOITdFYRHfOlpuF9Ous",sapna:"11fmeZOdIDqEE3CxT_FeJO4xJV95JGuSi8VO5tvrmiUU",sahana:"1xeDesKJ_J9rshPYjGUuxPNSHxbF6cVIOGDgnhm0vJqw"}}},w=function(){function e(){Object(d.a)(this,e)}return Object(v.a)(e,[{key:"get_raw_scores",value:function(){var e=Object(f.a)(O.a.mark((function e(t,n){var a,r,c,s,i,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x[t].sheetIds[n],e.prev=1,e.next=4,b().client.sheets.spreadsheets.values.get({spreadsheetId:a,range:"Calculator"});case 4:return r=e.sent,c=r.result,s=c.values.length-2,i=Object(E.findIndex)(c.values[0],(function(e){return"Converted Scores"===e}))-Object(E.findIndex)(c.values[0],(function(e){return"Raw Scores"===e})),u=Object(E.reduce)(c.values.slice(2,2+s),(function(e,t){return Object(E.set)(e,t[0],t.slice(t.length-3-2*i,t.length-3-i))}),{}),e.abrupt("return",[u,i]);case 12:return e.prev=12,e.t0=e.catch(1),o.a.error(e.t0),e.abrupt("return",[{},0]);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function y(e){var t={},n={};return Object(E.forEach)(e,(function(e){var a=e.raw,r=e.normal;Object(E.forEach)(a,(function(e,a){t[a]=a in t?Object(E.concat)(t[a],e):e,n[a]=a in n?Object(E.concat)(n[a],r[a]):r[a]}))})),[t,n]}function R(e){var t={},n={};return Object(E.forEach)(e,(function(e,a){t[a]=Object(k.c)(e),n[a]=Object(k.b)(e)})),[t,n]}function I(e){var t=Object(E.toPairs)(e),n=Object(E.reverse)(Object(E.sortBy)(Object(E.values)(t),[function(e){return e[1]}]));return Object(E.reduce)(n,(function(e,t,n){return e[t[0]]=n+1,e}),{})}var S=function(){function e(t,n){var a=this;Object(d.a)(this,e),this.year=void 0,this.comps=void 0,this.compDetails={},this.groups=[],this.amed={},this.amean={},this.rmed={},this.rmean={},this.amedRank={},this.ameanRank={},this.rmedRank={},this.rmeanRank={},this.selectGroups=function(e){return Object(E.filter)(a.groups,(function(t){return Object(E.get)(a.amedRank,"[".concat(t,"]"),Object(E.size)(a.groups))<=e&&Object(E.get)(a.ameanRank,"[".concat(t,"]"),Object(E.size)(a.groups))<=e&&Object(E.get)(a.rmedRank,"[".concat(t,"]"),Object(E.size)(a.groups))<=e&&Object(E.get)(a.rmeanRank,"[".concat(t,"]"),Object(E.size)(a.groups))<=e}))},this.year=n;var r=x[n].order;if(t>r.length)throw new Error("Illegal argument: num");t<0&&(t=r.length),this.comps=r.slice(0,t),o.a.debug("comps:",this.comps)}return Object(v.a)(e,[{key:"process",value:function(){var e=Object(f.a)(O.a.mark((function e(){var t,n,a,r,c,s,u,m,l,h,p,b,j=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E.zipObject,e.t1=this.comps,e.next=4,Promise.all(Object(E.map)(this.comps,(function(e){return j.handleComp(e)})));case 4:e.t2=e.sent,this.compDetails=(0,e.t0)(e.t1,e.t2),o.a.debug(this.compDetails),t=y(this.compDetails),n=Object(i.a)(t,2),a=n[0],r=n[1],this.groups=Object(E.keys)(a),c=R(a),s=Object(i.a)(c,2),u=s[0],m=s[1],l=R(r),h=Object(i.a)(l,2),p=h[0],b=h[1],this.amed=u,this.amean=m,this.rmed=p,this.rmean=b,this.amedRank=I(this.amed),this.ameanRank=I(this.amean),this.rmedRank=I(this.rmed),this.rmeanRank=I(this.rmean);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleComp",value:function(){var e=Object(f.a)(O.a.mark((function e(t){var n,a,r,c,s,u,o,m,l,h,p;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new w,e.next=3,n.get_raw_scores(this.year,t);case 3:return a=e.sent,r=Object(i.a)(a,2),c=r[0],s=r[1],u=Object(E.map)(Object(E.range)(s),(function(e){var t=Object(E.map)(c,(function(t){return t[e]}));return Object(k.b)(t)})),o=Object(E.mapValues)(c,(function(e){return Object(E.map)(e,(function(e,t){return 100*e/u[t]}))})),m=Object(E.mapValues)(o,(function(e){return Object(k.b)(e)})),l=Object(E.values)(m),h=l.length?Object(k.a)(l):0,p=l.length?Object(k.d)(l):0,e.abrupt("return",{raw:c,normal:o,finalScores:m,max:h,min:p,judgeAvgs:u});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStandings",value:function(){var e=this,t={};return o.a.debug("".concat(Object(E.size)(this.groups)," total groups")),Object(E.forEach)(this.groups,(function(n){var a=Object(k.a)([Object(E.get)(e.amedRank,"[".concat(n,"]"),Object(E.size)(e.groups)),Object(E.get)(e.ameanRank,"[".concat(n,"]"),Object(E.size)(e.groups)),Object(E.get)(e.rmedRank,"[".concat(n,"]"),Object(E.size)(e.groups)),Object(E.get)(e.rmeanRank,"[".concat(n,"]"),Object(E.size)(e.groups))]);a&&(t[a]=a in t?Object(E.concat)(t[a],n):[n])})),Object(E.mapValues)(t,(function(e){return Object(E.sortBy)(e)}))}},{key:"getFullStandings",value:function(){var e=this,t=this.getStandings();return Object(E.mapValues)(t,(function(t){return Object(E.reduce)(t,(function(t,n){return t[n]={amed:e.amedRank[n],amean:e.ameanRank[n],rmed:e.rmedRank[n],rmean:e.rmeanRank[n]},t}),{})}))}}]),e}();function A(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S(5,"19-20"),e.next=3,t.process();case 3:c(t.getFullStandings());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:1},"Threshold"),r.a.createElement(g.a,{container:!0,item:!0,xs:11},r.a.createElement(g.a,{item:!0,xs:!0},"Team"),r.a.createElement(g.a,{item:!0,xs:!0},"Abs Median"),r.a.createElement(g.a,{item:!0,xs:!0},"Abs Mean"),r.a.createElement(g.a,{item:!0,xs:!0},"Rel Median"),r.a.createElement(g.a,{item:!0,xs:!0},"Rel Mean"))),Object(E.map)(n,(function(e,t){return r.a.createElement(g.a,{container:!0,alignItems:"center",key:t},r.a.createElement(g.a,{item:!0,xs:1},t),r.a.createElement(g.a,{item:!0,xs:11,style:{border:"1px solid black"}},Object(E.map)(e,(function(e,t){return r.a.createElement(g.a,{container:!0,item:!0,xs:12,key:t},r.a.createElement(g.a,{item:!0,xs:!0},t),r.a.createElement(g.a,{item:!0,xs:!0},e.amed),r.a.createElement(g.a,{item:!0,xs:!0},e.amean),r.a.createElement(g.a,{item:!0,xs:!0},e.rmed),r.a.createElement(g.a,{item:!0,xs:!0},e.rmean))}))))})))}s.a.render(r.a.createElement((function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){b().load("client:auth2",(function(){b().client.init({apiKey:l,clientId:m,discoveryDocs:h,scope:p}).then((function(){b().auth2.getAuthInstance().isSignedIn.listen(c),c(b().auth2.getAuthInstance().isSignedIn.get())}),(function(e){o.a.error(JSON.stringify(e,null,2))}))}))}),[]),r.a.createElement("div",{className:"App"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){b().auth2.getAuthInstance().signOut()}},"Sign Out!"),r.a.createElement(g.a,{container:!0,justify:"center"},r.a.createElement(g.a,{item:!0,xs:8,lg:5},r.a.createElement(A,null)))):r.a.createElement("button",{onClick:function(){b().auth2.getAuthInstance().signIn()}}," Sign In!"))}),null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.e979d28b.chunk.js.map