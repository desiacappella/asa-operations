(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{53:function(e,t,a){e.exports=a(67)},58:function(e,t,a){},59:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),s=a.n(c),u=(a(58),a(15)),i=a(86),o=(a(59),a(33)),l=a(23),m=a(21),p=a.n(m),b="94642598479-g1na4rsqrj5vu6dram3r7k6k200s8j6m.apps.googleusercontent.com",f="AIzaSyBMZ3rGb7dWifD8QVjbidUpvxypn9XfiXA",j=["https://sheets.googleapis.com/$discovery/rest?version=v4"],O="https://www.googleapis.com/auth/spreadsheets.readonly";function h(){return window.gapi}var g=a(9),d=a.n(g),v=a(19),E=a(82),x=a(84),k=a(29),w=a(87),y=a(2),S="19-20",I={"19-20":{order:["jeena","anahat","sahana","sangeet","sapna","gathe","awaazein"],names:{jeena:"Jeena",anahat:"Anahat",sangeet:"Sangeet Saagar",sapna:"Steel City Sapna",sahana:"Sahana",gathe:"Gathe Raho",awaazein:"Awaazein"},sheetIds:{jeena:"1PERpK3VvawDj-lpZGupI6k5H7aRd5WUrQ5emM6O7ZiQ",anahat:"1paQFjuvZSip1qe56qIWT5Un86Cv8BuyG1clHMvFArxg",sangeet:"15ok6-LsCmh8qWpZAA_Jw8fHspOITdFYRHfOlpuF9Ous",sapna:"11fmeZOdIDqEE3CxT_FeJO4xJV95JGuSi8VO5tvrmiUU",sahana:"1xeDesKJ_J9rshPYjGUuxPNSHxbF6cVIOGDgnhm0vJqw",gathe:"1RAqltt5vl4uk0gq3RCe4fNWu0taGokv2UP9vjWXO8JY"}}},R=a(27),A=function(){function e(){Object(k.a)(this,e)}return Object(R.a)(e,[{key:"get_raw_scores",value:function(){var e=Object(v.a)(d.a.mark((function e(t,a){var n,r,c,s,u,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(localStorage.getItem("compDetails")||"{}"),!(r=Object(y.get)(n,"".concat(t,".").concat(a)))){e.next=4;break}return e.abrupt("return",r);case 4:if(p.a.info("Had to fetch from Google sheets"),c=I[t].sheetIds[a],e.prev=6,c){e.next=9;break}throw new Error("no spreadsheet");case 9:return e.next=11,h().client.sheets.spreadsheets.values.get({spreadsheetId:c,range:"Calculator"});case 11:return s=e.sent,u=s.result,i=u.values.length-2,o=Object(y.findIndex)(u.values[0],(function(e){return"Converted Scores"===e}))-Object(y.findIndex)(u.values[0],(function(e){return"Raw Scores"===e})),l=Object(y.reduce)(u.values.slice(2,2+i),(function(e,t){return Object(y.set)(e,t[0],t.slice(t.length-3-2*o,t.length-3-o))}),{}),Object(y.set)(n,"".concat(t,".").concat(a),[l,o]),localStorage.setItem("compDetails",JSON.stringify(n)),e.abrupt("return",[l,o]);case 21:return e.prev=21,e.t0=e.catch(6),p.a.error(e.t0),e.abrupt("return",[{},0]);case 25:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),J=function e(t,a){Object(k.a)(this,e),this.year=void 0,this.comps=void 0,this.compDetails={},this.groups=[],this.amed={},this.amean={},this.rmed={},this.rmean={},this.amedRank={},this.ameanRank={},this.rmedRank={},this.rmeanRank={},this.year=a;var n=I[a].order;if(t>n.length)throw new Error("Illegal argument: num");t<0&&(t=n.length),this.comps=n.slice(0,t)};function C(e){var t={},a={};return Object(y.forEach)(e,(function(e){var n=e.raw,r=e.normal;Object(y.forEach)(n,(function(e,n){t[n]=n in t?Object(y.concat)(t[n],e):e,a[n]=n in a?Object(y.concat)(a[n],r[n]):r[n]}))})),[t,a]}function D(e){var t={},a={};return Object(y.forEach)(e,(function(e,n){t[n]=Object(w.c)(e),a[n]=Object(w.b)(e)})),[t,a]}function z(e){var t=Object(y.toPairs)(e),a=Object(y.reverse)(Object(y.sortBy)(Object(y.values)(t),[function(e){return e[1]}]));return Object(y.reduce)(a,(function(e,t,a){return e[t[0]]=a+1,e}),{})}var G=function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n,r,c,s,i,o,l,m,p,b,f,j,O,h,g,v,E,x;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=!0,r=!1,c=void 0,e.prev=4,s=t.comps[Symbol.iterator]();case 6:if(n=(i=s.next()).done){e.next=14;break}return o=i.value,e.next=10,V(t.year,o);case 10:a[o]=e.sent;case 11:n=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),r=!0,c=e.t0;case 20:e.prev=20,e.prev=21,n||null==s.return||s.return();case 23:if(e.prev=23,!r){e.next=26;break}throw c;case 26:return e.finish(23);case 27:return e.finish(20);case 28:t.compDetails=a,l=C(t.compDetails),m=Object(u.a)(l,2),p=m[0],b=m[1],t.groups=Object(y.keys)(p),f=D(p),j=Object(u.a)(f,2),O=j[0],h=j[1],g=D(b),v=Object(u.a)(g,2),E=v[0],x=v[1],t.amed=O,t.amean=h,t.rmed=E,t.rmean=x,t.amedRank=z(t.amed),t.ameanRank=z(t.amean),t.rmedRank=z(t.rmed),t.rmeanRank=z(t.rmean);case 41:case"end":return e.stop()}}),e,null,[[4,16,20,28],[21,,23,27]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(v.a)(d.a.mark((function e(t,a){var n,r,c,s,i,o,l,m,p,b,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new A,e.next=3,n.get_raw_scores(t,a);case 3:return r=e.sent,c=Object(u.a)(r,2),s=c[0],i=c[1],o=Object(y.map)(Object(y.range)(i),(function(e){var t=Object(y.map)(s,(function(t){return t[e]}));return Object(w.b)(t)})),l=Object(y.mapValues)(s,(function(e){return Object(y.map)(e,(function(e,t){return 100*e/o[t]}))})),m=Object(y.mapValues)(l,(function(e){return Object(w.b)(e)})),p=Object(y.values)(m),b=p.length?Object(w.a)(p):0,f=p.length?Object(w.d)(p):0,e.abrupt("return",{raw:s,normal:l,finalScores:m,max:b,min:f,judgeAvgs:o});case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(e){var t=function(e){var t={};return Object(y.forEach)(Object(y.get)(e,"groups"),(function(a){var n=Object(w.a)([Object(y.get)(e.amedRank,"[".concat(a,"]"),Object(y.size)(e.groups)),Object(y.get)(e.ameanRank,"[".concat(a,"]"),Object(y.size)(e.groups)),Object(y.get)(e.rmedRank,"[".concat(a,"]"),Object(y.size)(e.groups)),Object(y.get)(e.rmeanRank,"[".concat(a,"]"),Object(y.size)(e.groups))]);n&&(t[n]=n in t?Object(y.concat)(t[n],a):[a])})),Object(y.mapValues)(t,(function(e){return Object(y.sortBy)(e)}))}(e);return Object(y.mapValues)(t,(function(t){return Object(y.reduce)(t,(function(t,a){return t[a]={amed:e.amedRank[a],amean:e.ameanRank[a],rmed:e.rmedRank[a],rmean:e.rmeanRank[a]},t}),{})}))};function q(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(v.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new J(6,S),e.next=3,G(t);case 3:c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",null,r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(E.a,{item:!0},r.a.createElement(x.a,null,Object(y.join)(Object(y.sortBy)(Object(y.get)(a,"groups")),", "),": ",r.a.createElement("b",null,Object(y.size)(Object(y.get)(a,"groups"))," groups"))),r.a.createElement(E.a,{item:!0},r.a.createElement(x.a,null,Object(y.join)(Object(y.get)(a,"comps"),", "),": ",r.a.createElement("b",null,Object(y.size)(Object(y.get)(a,"comps"))," comps")))),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:1},"Threshold)"),r.a.createElement(E.a,{container:!0,item:!0,xs:11},r.a.createElement(E.a,{item:!0,xs:!0},"Team"),r.a.createElement(E.a,{item:!0,xs:!0},"Abs Median"),r.a.createElement(E.a,{item:!0,xs:!0},"Abs Mean"),r.a.createElement(E.a,{item:!0,xs:!0},"Rel Median"),r.a.createElement(E.a,{item:!0,xs:!0},"Rel Mean"))),Object(y.map)(_(a),(function(e,t){return r.a.createElement(E.a,{container:!0,alignItems:"center",key:t,style:{border:"1px solid black"}},r.a.createElement(E.a,{item:!0,xs:1},t),r.a.createElement(E.a,{item:!0,xs:11},Object(y.map)(e,(function(e,t){return r.a.createElement(E.a,{container:!0,item:!0,xs:12,key:t},r.a.createElement(E.a,{item:!0,xs:!0},t),r.a.createElement(E.a,{item:!0,xs:!0},e.amed),r.a.createElement(E.a,{item:!0,xs:!0},e.amean),r.a.createElement(E.a,{item:!0,xs:!0},e.rmed),r.a.createElement(E.a,{item:!0,xs:!0},e.rmean))}))))})))}a(65);var F=a(48),M=a(88),U=a(85),B=new A;function H(){var e=Object(n.useState)(5),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({}),i=Object(u.a)(s,2),o=i[0],l=i[1],m=function(){var e=Object(v.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(F.a)(t),c(a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.t1=y.get,e.next=4,B.get_raw_scores(S,I[S].order[a]);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2,"[0]"),(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),r.a.createElement("div",null,r.a.createElement(M.a,{value:a,onChange:m},Object(y.map)(I[S].order,(function(e){return r.a.createElement(U.a,{key:e,label:e})}))),r.a.createElement("table",null,r.a.createElement("tbody",null,Object(y.map)(o,(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),Object(y.map)(e,(function(e,t){return r.a.createElement("td",{key:t},e)})))})))))}p.a.setLevel("debug"),s.a.render(r.a.createElement((function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){h().load("client:auth2",(function(){h().client.init({apiKey:f,clientId:b,discoveryDocs:j,scope:O}).then((function(){h().auth2.getAuthInstance().isSignedIn.listen(c),c(h().auth2.getAuthInstance().isSignedIn.get())}),(function(e){p.a.error(JSON.stringify(e,null,2))}))}))}),[]),r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{container:!0,justify:"center",spacing:1,alignItems:"center"},r.a.createElement(E.a,{item:!0},r.a.createElement(o.b,{to:"/"},"Standings")),r.a.createElement(E.a,{item:!0},r.a.createElement(o.b,{to:"/results"},"Comp Results")),r.a.createElement(E.a,{item:!0},r.a.createElement(i.a,{onClick:function(){localStorage.clear(),h().auth2.getAuthInstance().signOut()},variant:"outlined"},"Sign Out!"))),r.a.createElement(E.a,{container:!0,justify:"center"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/results"},r.a.createElement(E.a,{item:!0,xs:12,lg:8},r.a.createElement(H,null))),r.a.createElement(l.a,{path:"/"},r.a.createElement(E.a,{item:!0,xs:8,lg:5},r.a.createElement(q,null)))))):r.a.createElement(i.a,{onClick:function(){h().auth2.getAuthInstance().signIn()},variant:"outlined"}," ","Sign In!")))}),null),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.5da04502.chunk.js.map