(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{69:function(e,t,a){e.exports=a(83)},74:function(e,t,a){},75:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),u=(a(74),a(16)),l=a(121),i=a(123),o=a(117),m=a(119),p=(a(75),a(46)),b=a(31),f=a(25),h=a.n(f),j="94642598479-g1na4rsqrj5vu6dram3r7k6k200s8j6m.apps.googleusercontent.com",O="AIzaSyBMZ3rGb7dWifD8QVjbidUpvxypn9XfiXA",g=["https://sheets.googleapis.com/$discovery/rest?version=v4"],d="https://www.googleapis.com/auth/spreadsheets.readonly";function E(){return window.gapi}var v=a(14),k=a.n(v),x=a(23),w=a(113),y=a(37),S=a(120),I=a(4),R={"18-19":{order:["jeena","anahat","sangeet","mehfil","sahana","gathe","awaazein"],names:{jeena:"Jeena",anahat:"Anahat",sangeet:"Sangeet Saagar",mehfil:"Mehfil",sahana:"Sahana",gathe:"Gathe Raho",awaazein:"Awaazein"},sheetIds:{anahat:"1iFCNADUpzFyqp5UjHsFdSJkSp5C5xU7C0YI3Asf_Q0k",awaazein:"1pLN6SKR444CdhzntJjDXnPMlqXtxr3dlTV5lnYWOFXI",gathe:"1cg6XptCMQsWfmu7RnncfWP1E5b_FSyFOrDehbwlFUFY",jeena:"1B1qh4kKSeAFTV1r3MO4Y5jikyYFGHOe7-c46ha3Y-qc",mehfil:"1k7F_gBNM1OfDta5_gT_cHovDmt32jbXw--YMoTk1yc4",sahana:"1m9l2EQS3h75dlXz7A8E2JKc5GMXJOHlBS3gPlrgI3b4",sangeet:"1pYyUIt2RvZ5AOZwwzIvZKd-KTuUE9uPOpT2BpReqkgo"}},"19-20":{order:["jeena","anahat","sahana","sangeet","sapna","gathe","awaazein"],names:{jeena:"Jeena",anahat:"Anahat",sangeet:"Sangeet Saagar",sapna:"Steel City Sapna",sahana:"Sahana",gathe:"Gathe Raho",awaazein:"Awaazein"},sheetIds:{jeena:"1PERpK3VvawDj-lpZGupI6k5H7aRd5WUrQ5emM6O7ZiQ",anahat:"1paQFjuvZSip1qe56qIWT5Un86Cv8BuyG1clHMvFArxg",sangeet:"15ok6-LsCmh8qWpZAA_Jw8fHspOITdFYRHfOlpuF9Ous",sapna:"11fmeZOdIDqEE3CxT_FeJO4xJV95JGuSi8VO5tvrmiUU",sahana:"1xeDesKJ_J9rshPYjGUuxPNSHxbF6cVIOGDgnhm0vJqw",gathe:"1RAqltt5vl4uk0gq3RCe4fNWu0taGokv2UP9vjWXO8JY",awaazein:"1KYCn0RWMxbWabw4AuZzzsIyKZyCRnadvqcZVi9t7oDM"}}},A=a(29),z=function(){function e(){Object(y.a)(this,e)}return Object(A.a)(e,[{key:"get_raw_scores",value:function(){var e=Object(x.a)(k.a.mark((function e(t,a){var n,r,c,s,u,l,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(localStorage.getItem("".concat("compDetails","-").concat(t))||"{}"),!(r=Object(I.get)(n,a))){e.next=4;break}return e.abrupt("return",r);case 4:if(h.a.info("Had to fetch from Google sheets",t,a),c=R[t].sheetIds[a],e.prev=6,c){e.next=9;break}throw new Error("no spreadsheet");case 9:return e.next=11,E().client.sheets.spreadsheets.values.get({spreadsheetId:c,range:"Calculator"});case 11:return s=e.sent,u=s.result,l=u.values.length-2,i=Object(I.findIndex)(u.values[0],(function(e){return"Converted Scores"===e}))-Object(I.findLastIndex)(u.values[0],(function(e){return e.indexOf("Scores")>=0&&"Converted Scores"!==e})),o=Object(I.reduce)(u.values.slice(2,2+l),(function(e,t){return Object(I.set)(e,t[0],t.slice(t.length-3-2*i,t.length-3-i))}),{}),Object(I.set)(n,a,[o,i]),localStorage.setItem("".concat("compDetails","-").concat(t),JSON.stringify(n)),e.abrupt("return",[o,i]);case 21:return e.prev=21,e.t0=e.catch(6),h.a.error(e.t0),e.abrupt("return",[{},0]);case 25:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),C=function e(t,a){Object(y.a)(this,e),this.year=void 0,this.comps=void 0,this.compDetails={},this.groups=[],this.amed={},this.amean={},this.rmed={},this.rmean={},this.amedRank={},this.ameanRank={},this.rmedRank={},this.rmeanRank={},this.year=a;var n=R[a].order;if(t>n.length)throw new Error("Illegal argument: num");t<0&&(t=n.length),this.comps=n.slice(0,t)};function J(e){var t={},a={};return Object(I.forEach)(e,(function(e){var n=e.raw,r=e.normal;Object(I.forEach)(n,(function(e,n){t[n]=n in t?Object(I.concat)(t[n],e):e,a[n]=n in a?Object(I.concat)(a[n],r[n]):r[n]}))})),[t,a]}function F(e){var t={},a={};return Object(I.forEach)(e,(function(e,n){t[n]=Object(S.c)(e),a[n]=Object(S.b)(e)})),[t,a]}function D(e){var t=Object(I.toPairs)(e),a=Object(I.reverse)(Object(I.sortBy)(Object(I.values)(t),[function(e){return e[1]}]));return Object(I.reduce)(a,(function(e,t,a){return e[t[0]]=a+1,e}),{})}var M=function(){var e=Object(x.a)(k.a.mark((function e(t){var a,n,r,c,s,l,i,o,m,p,b,f,h,j,O,g,d,E,v;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=!0,r=!1,c=void 0,e.prev=4,s=t.comps[Symbol.iterator]();case 6:if(n=(l=s.next()).done){e.next=14;break}return i=l.value,e.next=10,q(t.year,i);case 10:a[i]=e.sent;case 11:n=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),r=!0,c=e.t0;case 20:e.prev=20,e.prev=21,n||null==s.return||s.return();case 23:if(e.prev=23,!r){e.next=26;break}throw c;case 26:return e.finish(23);case 27:return e.finish(20);case 28:t.compDetails=a,o=J(t.compDetails),m=Object(u.a)(o,2),p=m[0],b=m[1],t.groups=Object(I.keys)(p),f=F(p),h=Object(u.a)(f,2),j=h[0],O=h[1],g=F(b),d=Object(u.a)(g,2),E=d[0],v=d[1],t.amed=j,t.amean=O,t.rmed=E,t.rmean=v,t.amedRank=D(t.amed),t.ameanRank=D(t.amean),t.rmedRank=D(t.rmed),t.rmeanRank=D(t.rmean);case 41:case"end":return e.stop()}}),e,null,[[4,16,20,28],[21,,23,27]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(x.a)(k.a.mark((function e(t,a){var n,r,c,s,l,i,o,m,p,b,f;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new z,e.next=3,n.get_raw_scores(t,a);case 3:return r=e.sent,c=Object(u.a)(r,2),s=c[0],l=c[1],i=Object(I.map)(Object(I.range)(l),(function(e){var t=Object(I.map)(s,(function(t){return t[e]}));return Object(S.b)(t)})),o=Object(I.mapValues)(s,(function(e){return Object(I.map)(e,(function(e,t){return 100*e/i[t]}))})),m=Object(I.mapValues)(o,(function(e){return Object(S.b)(e)})),p=Object(I.values)(m),b=p.length?Object(S.a)(p):0,f=p.length?Object(S.d)(p):0,e.abrupt("return",{raw:s,normal:o,finalScores:m,max:b,min:f,judgeAvgs:i});case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(e){var t=function(e){var t={};return Object(I.forEach)(Object(I.get)(e,"groups"),(function(a){var n=Object(S.a)([Object(I.get)(e.amedRank,"[".concat(a,"]"),Object(I.size)(e.groups)),Object(I.get)(e.ameanRank,"[".concat(a,"]"),Object(I.size)(e.groups)),Object(I.get)(e.rmedRank,"[".concat(a,"]"),Object(I.size)(e.groups)),Object(I.get)(e.rmeanRank,"[".concat(a,"]"),Object(I.size)(e.groups))]);n&&(t[n]=n in t?Object(I.concat)(t[n],a):[a])})),Object(I.mapValues)(t,(function(e){return Object(I.sortBy)(e)}))}(e);return Object(I.mapValues)(t,(function(t){return Object(I.reduce)(t,(function(t,a){return t[a]={amed:e.amedRank[a],amean:e.ameanRank[a],rmed:e.rmedRank[a],rmean:e.rmeanRank[a]},t}),{})}))};function U(e){var t=e.year,a=Object(n.useState)({}),c=Object(u.a)(a,2),s=c[0],l=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(x.a)(k.a.mark((function e(){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new C(7,t),e.next=3,M(a);case 3:l(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),r.a.createElement("div",null,r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(o.a,null,Object(I.join)(Object(I.sortBy)(Object(I.get)(s,"groups")),", "),": ",r.a.createElement("b",null,Object(I.size)(Object(I.get)(s,"groups"))," groups"))),r.a.createElement(w.a,{item:!0},r.a.createElement(o.a,null,Object(I.join)(Object(I.get)(s,"comps"),", "),": ",r.a.createElement("b",null,Object(I.size)(Object(I.get)(s,"comps"))," comps")))),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(o.a,null,"Threshold")),r.a.createElement(w.a,{container:!0,item:!0,xs:11},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,"Team")),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,"Abs Median")),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,"Abs Mean")),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,"Rel Median")),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,"Rel Mean")))),Object(I.map)(_(s),(function(e,t){return r.a.createElement(w.a,{container:!0,alignItems:"center",key:t,style:{border:"1px solid black"}},r.a.createElement(w.a,{item:!0,xs:1},r.a.createElement(o.a,null,t)),r.a.createElement(w.a,{item:!0,xs:11},Object(I.map)(e,(function(e,t){return r.a.createElement(w.a,{container:!0,item:!0,xs:12,key:t},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,t)),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,e.amed)),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,e.amean)),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,e.rmed)),r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(o.a,null,e.rmean)))}))))})))}a(81);var G=a(62),V=a(122),Y=a(118),Z=new z;function T(e){var t=e.year,a=Object(n.useState)(0),c=Object(u.a)(a,2),s=c[0],l=c[1],i=Object(n.useState)({}),m=Object(u.a)(i,2),p=m[0],b=m[1],f=function(){var e=Object(x.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(G.a)(t),l(a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(x.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.t1=I.get,e.next=4,Z.get_raw_scores(t,R[t].order[s]);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2,"[0]"),(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s,t]),r.a.createElement("div",null,r.a.createElement(V.a,{value:s,onChange:f},Object(I.map)(R[t].order,(function(e){return r.a.createElement(Y.a,{key:e,label:e})}))),r.a.createElement("table",null,r.a.createElement("tbody",null,Object(I.map)(p,(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(o.a,null,t)),Object(I.map)(e,(function(e,t){return r.a.createElement("td",{key:t},r.a.createElement(o.a,null,e))})))})))))}h.a.setLevel("debug"),s.a.render(r.a.createElement((function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)("19-20"),f=Object(u.a)(s,2),v=f[0],k=f[1];return Object(n.useEffect)((function(){E().load("client:auth2",(function(){E().client.init({apiKey:O,clientId:j,discoveryDocs:g,scope:d}).then((function(){E().auth2.getAuthInstance().isSignedIn.listen(c),c(E().auth2.getAuthInstance().isSignedIn.get())}),(function(e){h.a.error(JSON.stringify(e,null,2))}))}))}),[]),r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{container:!0,justify:"center",spacing:1,alignItems:"center"},r.a.createElement(w.a,{item:!0},r.a.createElement(l.a,{select:!0,label:"Season",value:v,onChange:function(e){k(e.target.value)}},r.a.createElement(i.a,{value:"18-19"},"2018-2019"),r.a.createElement(i.a,{value:"19-20"},"2019-2020"))),r.a.createElement(w.a,{item:!0},r.a.createElement(p.b,{to:"/"},r.a.createElement(o.a,null,"Standings"))),r.a.createElement(w.a,{item:!0},r.a.createElement(p.b,{to:"/results"},r.a.createElement(o.a,null,"Comp Results"))),r.a.createElement(w.a,{item:!0},r.a.createElement(m.a,{onClick:function(){localStorage.clear(),E().auth2.getAuthInstance().signOut()},variant:"outlined"},"Sign Out!"))),r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/results"},r.a.createElement(w.a,{item:!0,xs:12,lg:8},r.a.createElement(T,{year:v}))),r.a.createElement(b.a,{path:"/"},r.a.createElement(w.a,{item:!0,xs:8,lg:5},r.a.createElement(U,{year:v})))))):r.a.createElement(m.a,{onClick:function(){E().auth2.getAuthInstance().signIn()},variant:"outlined"}," ","Sign In!")))}),null),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.0b67a340.chunk.js.map