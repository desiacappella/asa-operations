(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{57:function(e,t,n){e.exports=n(72)},62:function(e,t,n){},63:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(26),o=n.n(r),u=(n(62),n(10)),s=n(102),l=(n(63),n(37)),i=n(23),m=n(15),b=n.n(m),d="94642598479-g1na4rsqrj5vu6dram3r7k6k200s8j6m.apps.googleusercontent.com",j="AIzaSyBMZ3rGb7dWifD8QVjbidUpvxypn9XfiXA",p=["https://sheets.googleapis.com/$discovery/rest?version=v4"],O="https://www.googleapis.com/auth/spreadsheets.readonly";function f(){return window.gapi}var h=n(11),g=n.n(h),E=n(21),k=n(92),v=n(94),R=n(73),w=n(95),y=n(105),S=n(96),x=n(97),I=n(98),J=n(99),C=n(100),A=n(106),z=n(33),D=n(103),N=n(2),G="19-20",V={"19-20":{order:["jeena","anahat","sahana","sangeet","sapna","gathe","awaazein"],names:{jeena:"Jeena",anahat:"Anahat",sangeet:"Sangeet Saagar",sapna:"Steel City Sapna",sahana:"Sahana",gathe:"Gathe Raho",awaazein:"Awaazein"},sheetIds:{jeena:"1PERpK3VvawDj-lpZGupI6k5H7aRd5WUrQ5emM6O7ZiQ",anahat:"1paQFjuvZSip1qe56qIWT5Un86Cv8BuyG1clHMvFArxg",sangeet:"15ok6-LsCmh8qWpZAA_Jw8fHspOITdFYRHfOlpuF9Ous",sapna:"11fmeZOdIDqEE3CxT_FeJO4xJV95JGuSi8VO5tvrmiUU",sahana:"1xeDesKJ_J9rshPYjGUuxPNSHxbF6cVIOGDgnhm0vJqw",gathe:"1RAqltt5vl4uk0gq3RCe4fNWu0taGokv2UP9vjWXO8JY"}}},q=n(30),B=function(){function e(){Object(z.a)(this,e)}return Object(q.a)(e,[{key:"get_raw_scores",value:function(){var e=Object(E.a)(g.a.mark((function e(t,n){var a,c,r,o,u,s,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=JSON.parse(localStorage.getItem("compDetails")||"{}"),!(c=Object(N.get)(a,"".concat(t,".").concat(n)))){e.next=4;break}return e.abrupt("return",c);case 4:if(b.a.info("Had to fetch from Google sheets"),r=V[t].sheetIds[n],e.prev=6,r){e.next=9;break}throw new Error("no spreadsheet");case 9:return e.next=11,f().client.sheets.spreadsheets.values.get({spreadsheetId:r,range:"Calculator"});case 11:return o=e.sent,u=o.result,s=u.values.length-2,l=Object(N.findIndex)(u.values[0],(function(e){return"Converted Scores"===e}))-Object(N.findIndex)(u.values[0],(function(e){return"Raw Scores"===e})),i=Object(N.reduce)(u.values.slice(2,2+s),(function(e,t){return Object(N.set)(e,t[0],t.slice(t.length-3-2*l,t.length-3-l))}),{}),Object(N.set)(a,"".concat(t,".").concat(n),[i,l]),localStorage.setItem("compDetails",JSON.stringify(a)),e.abrupt("return",[i,l]);case 21:return e.prev=21,e.t0=e.catch(6),b.a.error(e.t0),e.abrupt("return",[{},0]);case 25:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),F=function e(t,n){Object(z.a)(this,e),this.year=void 0,this.comps=void 0,this.compDetails={},this.groups=[],this.amed={},this.amean={},this.nmed={},this.nmean={},this.amedRank={},this.ameanRank={},this.nmedRank={},this.nmeanRank={},this.fullRows=[],this.year=n;var a=V[n].order;if(t>a.length)throw new Error("Illegal argument: num");t<0&&(t=a.length),this.comps=a.slice(0,t)};function M(e){var t={},n={};return Object(N.forEach)(e,(function(e){var a=e.raw,c=e.normal;Object(N.forEach)(a,(function(e,a){t[a]=a in t?Object(N.concat)(t[a],e):e,n[a]=a in n?Object(N.concat)(n[a],c[a]):c[a]}))})),[t,n]}function U(e){var t={},n={};return Object(N.forEach)(e,(function(e,a){t[a]=Object(D.c)(e),n[a]=Object(D.b)(e)})),[t,n]}function _(e){var t=Object(N.toPairs)(e),n=Object(N.reverse)(Object(N.sortBy)(Object(N.values)(t),[function(e){return e[1]}]));return Object(N.reduce)(n,(function(e,t,n){return e[t[0]]=n+1,e}),{})}var H=function(){var e=Object(E.a)(g.a.mark((function e(t){var n,a,c,r,o,s,l,i,m,b,d,j,p,O,f,h,E,k,v;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},a=!0,c=!1,r=void 0,e.prev=4,o=t.comps[Symbol.iterator]();case 6:if(a=(s=o.next()).done){e.next=14;break}return l=s.value,e.next=10,T(t.year,l);case 10:n[l]=e.sent;case 11:a=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),c=!0,r=e.t0;case 20:e.prev=20,e.prev=21,a||null==o.return||o.return();case 23:if(e.prev=23,!c){e.next=26;break}throw r;case 26:return e.finish(23);case 27:return e.finish(20);case 28:t.compDetails=n,i=M(t.compDetails),m=Object(u.a)(i,2),b=m[0],d=m[1],t.groups=Object(N.keys)(b),j=U(b),p=Object(u.a)(j,2),O=p[0],f=p[1],h=U(d),E=Object(u.a)(h,2),k=E[0],v=E[1],t.amed=O,t.amean=f,t.nmed=k,t.nmean=v,t.amedRank=_(t.amed),t.ameanRank=_(t.amean),t.nmedRank=_(t.nmed),t.nmeanRank=_(t.nmean),t.fullRows=Object(N.map)(t.groups,(function(e){return{group:e,amed:t.amed[e],amean:t.amean[e],nmed:t.nmed[e],nmean:t.nmean[e],amedRank:t.amedRank[e],ameanRank:t.ameanRank[e],nmedRank:t.nmedRank[e],nmeanRank:t.nmeanRank[e],threshold:Object(D.a)(t.amedRank[e],t.ameanRank[e],t.nmedRank[e],t.nmeanRank[e])}}));case 42:case"end":return e.stop()}}),e,null,[[4,16,20,28],[21,,23,27]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(E.a)(g.a.mark((function e(t,n){var a,c,r,o,s,l,i,m,b,d,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new B,e.next=3,a.get_raw_scores(t,n);case 3:return c=e.sent,r=Object(u.a)(c,2),o=r[0],s=r[1],l=Object(N.map)(Object(N.range)(s),(function(e){var t=Object(N.map)(o,(function(t){return t[e]}));return Object(D.b)(t)})),i=Object(N.mapValues)(o,(function(e){return Object(N.map)(e,(function(e,t){return 100*e/l[t]}))})),m=Object(N.mapValues)(i,(function(e){return Object(D.b)(e)})),b=Object(N.values)(m),d=b.length?Object(D.a)(b):0,j=b.length?Object(D.d)(b):0,e.abrupt("return",{raw:o,normal:i,numJudges:s,finalScores:m,max:d,min:j,judgeAvgs:l});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(e){var t=function(e){var t={};return Object(N.forEach)(Object(N.get)(e,"groups"),(function(n){var a=Object(D.a)([Object(N.get)(e.amedRank,"[".concat(n,"]"),Object(N.size)(e.groups)),Object(N.get)(e.ameanRank,"[".concat(n,"]"),Object(N.size)(e.groups)),Object(N.get)(e.nmedRank,"[".concat(n,"]"),Object(N.size)(e.groups)),Object(N.get)(e.nmeanRank,"[".concat(n,"]"),Object(N.size)(e.groups))]);a&&(t[a]=a in t?Object(N.concat)(t[a],n):[n])})),Object(N.mapValues)(t,(function(e){return Object(N.sortBy)(e)}))}(e);return Object(N.mapValues)(t,(function(t){return Object(N.reduce)(t,(function(t,n){return t[n]={amed:e.amedRank[n],amean:e.ameanRank[n],nmed:e.nmedRank[n],nmean:e.nmeanRank[n]},t}),{})}))},Z=Object(k.a)((function(){return{icon:{color:"white !important"}}}));function P(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)({}),s=Object(u.a)(o,2),l=s[0],i=s[1],m=Object(a.useState)({}),d=Object(u.a)(m,2),j=(d[0],d[1]),p=Object(a.useState)(!0),O=Object(u.a)(p,2),f=O[0],h=O[1],k=Object(a.useState)("threshold"),z=Object(u.a)(k,2),D=z[0],V=z[1],q=Z({});Object(a.useEffect)((function(){(function(){var e=Object(E.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new F(6,G),e.next=3,H(t);case 3:n=W(t),a={},Object(N.forEach)(n,(function(e,t){Object(N.size)(e)>1?a[t]="":a[t]=Object(N.keys)(e)[0]})),i(a),j(n),r(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);b.a.debug(l);var B=function(e){V(e)};return c.a.createElement("div",null,c.a.createElement(v.a,{container:!0,justify:"center"},c.a.createElement(v.a,{item:!0},c.a.createElement(R.a,null,Object(N.join)(Object(N.sortBy)(Object(N.get)(n,"groups")),", "),": ",c.a.createElement("b",null,Object(N.size)(Object(N.get)(n,"groups"))," groups"))),c.a.createElement(v.a,{item:!0},c.a.createElement(R.a,null,Object(N.join)(Object(N.get)(n,"comps"),", "),": ",c.a.createElement("b",null,Object(N.size)(Object(N.get)(n,"comps"))," comps")))),c.a.createElement(v.a,{container:!0,justify:"center"},c.a.createElement(v.a,{item:!0},c.a.createElement(w.a,{control:c.a.createElement(y.a,{onChange:function(){h(!f)},checked:f}),label:"Only Show Ranks"}))),c.a.createElement(S.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{style:{backgroundColor:"#13293d"}},c.a.createElement(J.a,null,c.a.createElement(C.a,{align:"center"},c.a.createElement(A.a,{style:{color:"white"},active:"threshold"===D,direction:"asc",onClick:B.bind(null,"threshold"),classes:{icon:q.icon}},"Threshold")),c.a.createElement(C.a,{align:"center"},c.a.createElement(A.a,{style:{color:"white"},active:"group"===D,direction:"asc",onClick:B.bind(null,"group"),classes:{icon:q.icon}},"Team")),c.a.createElement(C.a,{align:"center"},c.a.createElement(A.a,{style:{color:"white"},active:"nmedRank"===D,direction:"asc",onClick:B.bind(null,"nmedRank"),classes:{icon:q.icon}},"Normalized Median")),c.a.createElement(C.a,{align:"center"},c.a.createElement(A.a,{style:{color:"white"},active:"nmeanRank"===D,direction:"asc",onClick:B.bind(null,"nmeanRank"),classes:{icon:q.icon}},"Normalized Mean")),c.a.createElement(C.a,{align:"center"},c.a.createElement(A.a,{style:{color:"white"},active:"amedRank"===D,direction:"asc",onClick:B.bind(null,"amedRank"),classes:{icon:q.icon}},"Absolute Median")),c.a.createElement(C.a,{align:"center"},c.a.createElement(A.a,{style:{color:"white"},active:"ameanRank"===D,direction:"asc",onClick:B.bind(null,"ameanRank"),classes:{icon:q.icon}},"Absolute Mean")))),Object(N.map)(Object(N.sortBy)(n.fullRows,[function(e){return e[D]}]),(function(e,t){return c.a.createElement(J.a,{key:e.group,style:{backgroundColor:t%2===0?"#f3fbff":"#dae6f5"}},c.a.createElement(C.a,{align:"center"},e.threshold),c.a.createElement(C.a,{align:"center"},e.group),c.a.createElement(C.a,{align:"center"},f?e.amedRank:"".concat(Object(N.round)(e.amed,3)," (").concat(e.amedRank,")")),c.a.createElement(C.a,{align:"center"},f?e.ameanRank:"".concat(Object(N.round)(e.amean,3)," (").concat(e.ameanRank,")")),c.a.createElement(C.a,{align:"center"},f?e.nmedRank:"".concat(Object(N.round)(e.nmed,3)," (").concat(e.nmedRank,")")),c.a.createElement(C.a,{align:"center"},f?e.nmeanRank:"".concat(Object(N.round)(e.nmean,3)," (").concat(e.nmeanRank,")")))})))))}n(69);var Q=n(53),K=n(104),X=n(101);n(70);function Y(){var e=Object(a.useState)(5),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)({}),s=Object(u.a)(o,2),l=s[0],i=s[1],m=function(){var e=Object(E.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Q.a)(t),r(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,T(G,V[G].order[n]);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),b.a.debug(l),c.a.createElement("div",null,c.a.createElement(K.a,{value:n,onChange:m},Object(N.map)(V[G].order,(function(e){return c.a.createElement(X.a,{key:e,label:e})}))),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",{rowSpan:2},"Team"),c.a.createElement("th",{colSpan:Object(N.get)(l,"numJudges")},"Raw"),c.a.createElement("th",{colSpan:Object(N.get)(l,"numJudges")},"Normal"),c.a.createElement("th",{rowSpan:2},"Normal Avg")),c.a.createElement("tr",null,Object(N.map)(Object(N.range)(Object(N.get)(l,"numJudges")),(function(e){return c.a.createElement("th",null,"Judge ",e)})),Object(N.map)(Object(N.range)(Object(N.get)(l,"numJudges")),(function(e){return c.a.createElement("th",null,"Judge ",e)}))),Object(N.map)(Object(N.get)(l,"raw"),(function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,t),Object(N.map)(e,(function(e,t){return c.a.createElement("td",{key:t},Object(N.round)(e,3))})),Object(N.map)(Object(N.get)(l,"normal.".concat(t)),(function(e,t){return c.a.createElement("td",{key:t},Object(N.round)(e,3))})),c.a.createElement("td",null,Object(N.round)(Object(N.get)(l,"finalScores.".concat(t)),3)))})))))}b.a.setLevel("debug"),o.a.render(c.a.createElement((function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){f().load("client:auth2",(function(){f().client.init({apiKey:j,clientId:d,discoveryDocs:p,scope:O}).then((function(){f().auth2.getAuthInstance().isSignedIn.listen(r),r(f().auth2.getAuthInstance().isSignedIn.get())}),(function(e){b.a.error(JSON.stringify(e,null,2))}))}))}),[]),c.a.createElement(l.a,{basename:"/asa-operations"},c.a.createElement("div",{className:"App"},n?c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{container:!0,justify:"center",spacing:1,alignItems:"center"},c.a.createElement(v.a,{item:!0},c.a.createElement(l.b,{to:"/"},"Standings")),c.a.createElement(v.a,{item:!0},c.a.createElement(l.b,{to:"/results"},"Comp Results")),c.a.createElement(v.a,{item:!0},c.a.createElement(s.a,{onClick:function(){localStorage.clear(),f().auth2.getAuthInstance().signOut()},variant:"outlined"},"Sign Out!"))),c.a.createElement(v.a,{container:!0,justify:"center"},c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/results"},c.a.createElement(v.a,{item:!0,xs:10},c.a.createElement(Y,null))),c.a.createElement(i.a,{path:"/"},c.a.createElement(v.a,{item:!0,xs:8,md:5},c.a.createElement(P,null)))))):c.a.createElement(s.a,{onClick:function(){f().auth2.getAuthInstance().signIn()},variant:"outlined"}," ","Sign In!")))}),null),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.75ffa21d.chunk.js.map